import{f as b,s as _,d as S,h as c,j as l,F as w,k as g,i as f,t as C,p as V,l as B,_ as M}from"./index-c281036c.js";function p(s){const e=s.filter(t=>t!==null);return new Set(e).size===e.length}function L(s){for(const e of s)if(!p(e))return!1;for(let e=0;e<9;e++){const t=s.map(o=>o[e]);if(!p(t))return!1}for(let e=0;e<9;e+=3)for(let t=0;t<9;t+=3){const o=[];for(let n=e;n<e+3;n++)for(let a=t;a<t+3;a++)o.push(s[n][a]);if(!p(o))return!1}return!0}function k(s){for(let e=0;e<9;e++)for(let t=0;t<9;t++)if(s[e][t]===null){for(let o=1;o<=9;o++)if(j(s,e,t,o)){if(s[e][t]=o,k(s))return!0;s[e][t]=null}return!1}return!0}function j(s,e,t,o){for(let n=0;n<9;n++){if(s[e][n]===o||s[n][t]===o)return!1;const a=3*Math.floor(e/3)+Math.floor(n/3),d=3*Math.floor(t/3)+n%3;if(s[a][d]===o)return!1}return!0}function I(s){if(!L(s))throw new Error("当前数独不合法");const e=s.map(t=>t.slice());if(k(e))return e;throw new Error("当前数独无有效解")}function P(s,e){const t=[];for(let o=0;o<s.length;o+=e)t.push(s.slice(o,o+e));return t}function R(s,[e,t]){return Math.min(Math.max(s,e),t)}const v=s=>(V("data-v-005de029"),s=s(),B(),s),E={"w-screen":"","h-screen":"",flex:"","flex-col":"","items-center":"","pt-2vh":"","sm:pt-15vh":""},F=v(()=>l("h1",{"p-4":""},"Solve Sudoku",-1)),N={flex:"","flex-col":"","items-center":"","justify-center":"","gap-2":"","sm:flex-row":"","sm:gap-4":""},A=["value","onChange"],D={"inline-flex":"","flex-row":"","gap-4":"","sm:flex-col":""},G=["disabled"],T=v(()=>l("svg",{class:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 10"},[l("path",{stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M1 5h12m0 0L9 1m4 4L9 9"})],-1)),q=[T],z=["disabled"],H=v(()=>l("svg",{class:"w-4 h-4",viewBox:"0 0 21 21",xmlns:"http://www.w3.org/2000/svg"},[l("g",{fill:"none","fill-rule":"evenodd",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",transform:"translate(2, 2)"},[l("path",{d:"m12.5 1.5c2.4138473 1.37729434 4 4.02194088 4 7 0 4.418278-3.581722 8-8 8s-8-3.581722-8-8 3.581722-8 8-8"}),l("path",{d:"m12.5 5.5v-4h4"})])],-1)),J=[H],K={class:"board"},O=b({__name:"PageView",setup(s){const e=()=>Array.from({length:81},()=>null),t=_(e()),o=(i,u)=>{const r=Number(i.target.value);t.value[u]=r?R(r,[1,9]):null},n=_(!1),a=_([]),d=()=>{t.value=e(),a.value=[]},h=S(),x=()=>{var i;try{n.value=!0;const u=I(P(t.value,9));a.value=u.flat()}catch{(i=h.value)==null||i.classList.add("flashing"),setTimeout(()=>{var r;(r=h.value)==null||r.classList.remove("flashing")},2e3)}finally{n.value=!1}};return(i,u)=>(f(),c("div",E,[F,l("div",N,[l("div",{ref_key:"boardRef",ref:h,class:"board"},[(f(!0),c(w,null,g(t.value,(r,m)=>(f(),c("div",{key:m,class:"cell"},[l("input",{class:"input",value:r,type:"number",min:"1",max:"9",step:"1",onChange:y=>o(y,m)},null,40,A)]))),128))],512),l("div",D,[l("button",{type:"button",class:"btn",disabled:n.value,onClick:x},q,8,G),l("button",{type:"button",class:"btn",disabled:n.value,onClick:d},J,8,z)]),l("div",K,[(f(),c(w,null,g(81,r=>l("div",{key:r,class:"cell"},C(a.value[r-1]),1)),64))])])]))}});const U=M(O,[["__scopeId","data-v-005de029"]]);export{U as default};
